EESchema Schematic File Version 4
LIBS:PowerSupply-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Regulator_Linear:LM317_3PinPackage U?
U 1 1 5D701746
P 4750 1650
F 0 "U?" H 4750 1892 50  0000 C CNN
F 1 "LM338T" H 4750 1801 50  0000 C CNN
F 2 "" H 4750 1900 50  0001 C CIN
F 3 "http://www.ti.com/lit/ds/symlink/lm317.pdf" H 4750 1650 50  0001 C CNN
	1    4750 1650
	1    0    0    -1  
$EndComp
$Comp
L PowerSupply:INA210 U?
U 1 1 5D70256B
P 8400 2200
F 0 "U?" H 8400 2525 50  0000 C CNN
F 1 "INA210" H 8400 2434 50  0000 C CNN
F 2 "" H 8150 1550 50  0001 C CNN
F 3 "" H 8150 1550 50  0001 C CNN
	1    8400 2200
	1    0    0    -1  
$EndComp
$Comp
L MCU_ST_STM32F0:STM32F042K6Tx U?
U 1 1 5D702FC3
P 1250 3150
F 0 "U?" H 1250 2061 50  0000 C CNN
F 1 "STM32F042K6Tx" H 1250 1970 50  0000 C CNN
F 2 "Package_QFP:LQFP-32_7x7mm_P0.8mm" H 850 2250 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00105814.pdf" H 1250 3150 50  0001 C CNN
	1    1250 3150
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D7135C9
P 8400 1650
F 0 "R?" V 8193 1650 50  0000 C CNN
F 1 "R" V 8284 1650 50  0000 C CNN
F 2 "" V 8330 1650 50  0001 C CNN
F 3 "~" H 8400 1650 50  0001 C CNN
	1    8400 1650
	0    1    1    0   
$EndComp
Wire Wire Line
	5050 1650 5150 1650
Wire Wire Line
	8750 2100 8800 2100
Wire Wire Line
	8800 2100 8800 1900
Wire Wire Line
	8800 1900 8600 1900
Wire Wire Line
	8600 1900 8600 1650
Wire Wire Line
	8600 1650 8550 1650
Wire Wire Line
	8050 2100 8000 2100
Wire Wire Line
	8000 2100 8000 1900
Wire Wire Line
	8000 1900 8200 1900
Wire Wire Line
	8200 1900 8200 1650
Connection ~ 8200 1650
Wire Wire Line
	8200 1650 8250 1650
$Comp
L Device:C C?
U 1 1 5D7168CD
P 5150 1900
F 0 "C?" H 5265 1946 50  0000 L CNN
F 1 "10u" H 5265 1855 50  0000 L CNN
F 2 "" H 5188 1750 50  0001 C CNN
F 3 "~" H 5150 1900 50  0001 C CNN
	1    5150 1900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D71773F
P 5150 2150
F 0 "#PWR?" H 5150 1900 50  0001 C CNN
F 1 "GND" H 5155 1977 50  0000 C CNN
F 2 "" H 5150 2150 50  0001 C CNN
F 3 "" H 5150 2150 50  0001 C CNN
	1    5150 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 2150 5150 2050
Wire Wire Line
	5150 1750 5150 1650
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5D718C32
P 9950 1650
F 0 "J?" H 10030 1692 50  0000 L CNN
F 1 "Conn_01x01" H 10030 1601 50  0000 L CNN
F 2 "" H 9950 1650 50  0001 C CNN
F 3 "~" H 9950 1650 50  0001 C CNN
	1    9950 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	9750 1650 9600 1650
Connection ~ 8600 1650
Text GLabel 9600 1550 1    50   Input ~ 0
Vout
Wire Wire Line
	9600 1550 9600 1650
Connection ~ 9600 1650
Wire Wire Line
	9600 1650 8600 1650
$Comp
L power:+24V #PWR?
U 1 1 5D724436
P 3750 1550
F 0 "#PWR?" H 3750 1400 50  0001 C CNN
F 1 "+24V" H 3765 1723 50  0000 C CNN
F 2 "" H 3750 1550 50  0001 C CNN
F 3 "" H 3750 1550 50  0001 C CNN
	1    3750 1550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 1650 3750 1650
Wire Wire Line
	3750 1650 3750 1550
$Comp
L Device:Q_NPN_BCE Q?
U 1 1 5D72A305
P 7050 2150
F 0 "Q?" H 7241 2196 50  0000 L CNN
F 1 "Q_NPN_BCE" H 7241 2105 50  0000 L CNN
F 2 "" H 7250 2250 50  0001 C CNN
F 3 "~" H 7050 2150 50  0001 C CNN
	1    7050 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_NPN_BCE Q?
U 1 1 5D72E6D3
P 6650 2450
F 0 "Q?" H 6841 2496 50  0000 L CNN
F 1 "Q_NPN_BCE" H 6841 2405 50  0000 L CNN
F 2 "" H 6850 2550 50  0001 C CNN
F 3 "~" H 6650 2450 50  0001 C CNN
	1    6650 2450
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D72FB60
P 6550 1900
F 0 "R?" H 6480 1854 50  0000 R CNN
F 1 "13K" H 6480 1945 50  0000 R CNN
F 2 "" V 6480 1900 50  0001 C CNN
F 3 "~" H 6550 1900 50  0001 C CNN
	1    6550 1900
	-1   0    0    1   
$EndComp
$Comp
L Device:R R?
U 1 1 5D73023F
P 7150 2700
F 0 "R?" H 7080 2654 50  0000 R CNN
F 1 "68R" H 7080 2745 50  0000 R CNN
F 2 "" V 7080 2700 50  0001 C CNN
F 3 "~" H 7150 2700 50  0001 C CNN
	1    7150 2700
	-1   0    0    1   
$EndComp
Wire Wire Line
	6550 2050 6550 2150
Wire Wire Line
	6850 2150 6550 2150
Connection ~ 6550 2150
Wire Wire Line
	6550 2150 6550 2250
Wire Wire Line
	7150 2350 7150 2450
Wire Wire Line
	6850 2450 7150 2450
Connection ~ 7150 2450
Wire Wire Line
	7150 2450 7150 2550
$Comp
L power:GND #PWR?
U 1 1 5D7362CE
P 6550 3050
F 0 "#PWR?" H 6550 2800 50  0001 C CNN
F 1 "GND" H 6555 2877 50  0000 C CNN
F 2 "" H 6550 3050 50  0001 C CNN
F 3 "" H 6550 3050 50  0001 C CNN
	1    6550 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6550 3050 6550 3000
Wire Wire Line
	6550 3000 7150 3000
Connection ~ 6550 3000
Wire Wire Line
	7150 2850 7150 3000
Wire Wire Line
	6550 2650 6550 3000
Wire Wire Line
	6550 1650 6550 1750
Connection ~ 5150 1650
Wire Wire Line
	6550 1650 7150 1650
Wire Wire Line
	7150 1650 7150 1950
Wire Wire Line
	7150 1650 8200 1650
Connection ~ 7150 1650
Wire Wire Line
	5150 1650 6550 1650
Connection ~ 6550 1650
Text GLabel 8850 2200 2    50   Input ~ 0
Iout
Wire Wire Line
	8850 2200 8750 2200
Wire Wire Line
	4750 2250 4750 1950
$Comp
L power:+5V #PWR?
U 1 1 5D722B01
P 3600 2050
F 0 "#PWR?" H 3600 1900 50  0001 C CNN
F 1 "+5V" H 3615 2223 50  0000 C CNN
F 2 "" H 3600 2050 50  0001 C CNN
F 3 "" H 3600 2050 50  0001 C CNN
	1    3600 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 2050 3600 2150
Wire Wire Line
	5150 2450 5050 2450
Wire Wire Line
	5150 3750 5150 2450
Wire Wire Line
	4350 3750 4450 3750
$Comp
L Diode:BAT54A D?
U 1 1 5D77018E
P 4750 2450
F 0 "D?" H 4750 2583 50  0000 C CNN
F 1 "BAT54A" H 4750 2674 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 4825 2575 50  0001 L CNN
F 3 "http://www.diodes.com/_files/datasheets/ds11005.pdf" H 4630 2450 50  0001 C CNN
	1    4750 2450
	-1   0    0    1   
$EndComp
Wire Wire Line
	2700 3000 2700 2950
Connection ~ 2700 3000
Wire Wire Line
	3000 3000 3000 2950
Wire Wire Line
	2700 3000 3000 3000
Wire Wire Line
	2700 3050 2700 3000
$Comp
L power:GND #PWR?
U 1 1 5D720834
P 2700 3050
F 0 "#PWR?" H 2700 2800 50  0001 C CNN
F 1 "GND" H 2705 2877 50  0000 C CNN
F 2 "" H 2700 3050 50  0001 C CNN
F 3 "" H 2700 3050 50  0001 C CNN
	1    2700 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 2550 2700 2550
Connection ~ 3000 2550
Wire Wire Line
	3000 2650 3000 2550
Wire Wire Line
	2700 2550 2600 2550
Connection ~ 2700 2550
Wire Wire Line
	2700 2650 2700 2550
$Comp
L Device:C C?
U 1 1 5D71E052
P 3000 2800
F 0 "C?" H 3115 2846 50  0000 L CNN
F 1 "1n" H 3115 2755 50  0000 L CNN
F 2 "" H 3038 2650 50  0001 C CNN
F 3 "~" H 3000 2800 50  0001 C CNN
	1    3000 2800
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D71C139
P 2700 2800
F 0 "R?" H 2630 2754 50  0000 R CNN
F 1 "2K" H 2630 2845 50  0000 R CNN
F 2 "" V 2630 2800 50  0001 C CNN
F 3 "~" H 2700 2800 50  0001 C CNN
	1    2700 2800
	-1   0    0    1   
$EndComp
$Comp
L Device:R R?
U 1 1 5D71B349
P 2450 2550
F 0 "R?" V 2243 2550 50  0000 C CNN
F 1 "13K" V 2334 2550 50  0000 C CNN
F 2 "" V 2380 2550 50  0001 C CNN
F 3 "~" H 2450 2550 50  0001 C CNN
	1    2450 2550
	0    1    1    0   
$EndComp
Text GLabel 2150 2550 0    50   Input ~ 0
Vout
$Comp
L Amplifier_Operational:LM358 U?
U 3 1 5D7083D0
P 3700 2450
F 0 "U?" H 3658 2496 50  0000 L CNN
F 1 "LM358" H 3658 2405 50  0000 L CNN
F 2 "" H 3700 2450 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm2904-n.pdf" H 3700 2450 50  0001 C CNN
	3    3700 2450
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:LM358 U?
U 2 1 5D70610A
P 4050 3750
F 0 "U?" H 4050 4117 50  0000 C CNN
F 1 "LM358" H 4050 4026 50  0000 C CNN
F 2 "" H 4050 3750 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm2904-n.pdf" H 4050 3750 50  0001 C CNN
	2    4050 3750
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:LM358 U?
U 1 1 5D704E8C
P 3700 2450
F 0 "U?" H 3800 2750 50  0000 C CNN
F 1 "LM358" H 3800 2650 50  0000 C CNN
F 2 "" H 3700 2450 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm2904-n.pdf" H 3700 2450 50  0001 C CNN
	1    3700 2450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D7AB30D
P 5450 3750
F 0 "R?" V 5243 3750 50  0000 C CNN
F 1 "13K" V 5334 3750 50  0000 C CNN
F 2 "" V 5380 3750 50  0001 C CNN
F 3 "~" H 5450 3750 50  0001 C CNN
	1    5450 3750
	0    1    1    0   
$EndComp
Wire Wire Line
	5750 3750 5600 3750
Wire Wire Line
	5300 3750 5150 3750
Connection ~ 5150 3750
Text GLabel 6150 3450 2    50   Input ~ 0
CLIM
Wire Wire Line
	6150 3450 6050 3450
Wire Wire Line
	6050 3450 6050 3550
$Comp
L power:GND #PWR?
U 1 1 5D7B00B6
P 6050 4050
F 0 "#PWR?" H 6050 3800 50  0001 C CNN
F 1 "GND" H 6055 3877 50  0000 C CNN
F 2 "" H 6050 4050 50  0001 C CNN
F 3 "" H 6050 4050 50  0001 C CNN
	1    6050 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 4050 6050 3950
$Comp
L Device:Q_NPN_BCE Q?
U 1 1 5D7B1E5D
P 5950 3750
F 0 "Q?" H 6141 3796 50  0000 L CNN
F 1 "Q_NPN_BCE" H 6141 3705 50  0000 L CNN
F 2 "" H 6150 3850 50  0001 C CNN
F 3 "~" H 5950 3750 50  0001 C CNN
	1    5950 3750
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3VA #PWR?
U 1 1 5D715936
P 7800 2100
F 0 "#PWR?" H 7800 1950 50  0001 C CNN
F 1 "+3.3VA" H 7815 2273 50  0000 C CNN
F 2 "" H 7800 2100 50  0001 C CNN
F 3 "" H 7800 2100 50  0001 C CNN
	1    7800 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7800 2100 7800 2200
Wire Wire Line
	7800 2200 8050 2200
Text Notes 1500 1650 0    50   ~ 0
STM32G070CBT6
$Comp
L Device:C C?
U 1 1 5D7218D0
P 3900 3000
F 0 "C?" H 4015 3046 50  0000 L CNN
F 1 "1n" H 4015 2955 50  0000 L CNN
F 2 "" H 3938 2850 50  0001 C CNN
F 3 "~" H 3900 3000 50  0001 C CNN
	1    3900 3000
	0    1    1    0   
$EndComp
Wire Wire Line
	4050 3000 4150 3000
Wire Wire Line
	4150 3000 4150 2450
Wire Wire Line
	4000 2450 4150 2450
Wire Wire Line
	4150 2450 4450 2450
Connection ~ 4150 2450
$Comp
L Device:C C?
U 1 1 5D7322D1
P 2450 2150
F 0 "C?" V 2200 2100 50  0000 L CNN
F 1 "1n" V 2300 2100 50  0000 L CNN
F 2 "" H 2488 2000 50  0001 C CNN
F 3 "~" H 2450 2150 50  0001 C CNN
	1    2450 2150
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 2150 2700 2150
Wire Wire Line
	2700 2150 2700 2550
Wire Wire Line
	2150 2550 2200 2550
Wire Wire Line
	2300 2150 2200 2150
Wire Wire Line
	2200 2150 2200 2550
Connection ~ 2200 2550
Wire Wire Line
	2200 2550 2300 2550
Wire Wire Line
	3000 2550 3300 2550
Wire Wire Line
	3300 2550 3300 3000
Connection ~ 3300 2550
Wire Wire Line
	3300 2550 3400 2550
Wire Wire Line
	3300 3000 3750 3000
$Comp
L power:GND #PWR?
U 1 1 5D74C0FE
P 3600 2750
F 0 "#PWR?" H 3600 2500 50  0001 C CNN
F 1 "GND" H 3605 2577 50  0000 C CNN
F 2 "" H 3600 2750 50  0001 C CNN
F 3 "" H 3600 2750 50  0001 C CNN
	1    3600 2750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D752832
P 4000 4150
F 0 "C?" H 4115 4196 50  0000 L CNN
F 1 "1n" H 4115 4105 50  0000 L CNN
F 2 "" H 4038 4000 50  0001 C CNN
F 3 "~" H 4000 4150 50  0001 C CNN
	1    4000 4150
	0    1    1    0   
$EndComp
Text GLabel 2500 3850 0    50   Input ~ 0
Iout
$Comp
L Device:C C?
U 1 1 5D78CD15
P 3250 4100
F 0 "C?" H 3365 4146 50  0000 L CNN
F 1 "1n" H 3365 4055 50  0000 L CNN
F 2 "" H 3288 3950 50  0001 C CNN
F 3 "~" H 3250 4100 50  0001 C CNN
	1    3250 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 3950 3250 3850
Connection ~ 3250 3850
Wire Wire Line
	3250 3850 3550 3850
$Comp
L power:GND #PWR?
U 1 1 5D78ECB9
P 3250 4350
F 0 "#PWR?" H 3250 4100 50  0001 C CNN
F 1 "GND" H 3255 4177 50  0000 C CNN
F 2 "" H 3250 4350 50  0001 C CNN
F 3 "" H 3250 4350 50  0001 C CNN
	1    3250 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 4350 3250 4250
Wire Wire Line
	2550 3850 2500 3850
$Comp
L Device:R R?
U 1 1 5D78A6EC
P 2700 3850
F 0 "R?" V 2493 3850 50  0000 C CNN
F 1 "13K" V 2584 3850 50  0000 C CNN
F 2 "" V 2630 3850 50  0001 C CNN
F 3 "~" H 2700 3850 50  0001 C CNN
	1    2700 3850
	0    1    1    0   
$EndComp
Wire Wire Line
	2850 3850 3250 3850
Wire Wire Line
	3550 3850 3550 4150
Wire Wire Line
	3550 4150 3850 4150
Wire Wire Line
	4200 4150 4450 4150
Wire Wire Line
	4450 4150 4450 3750
Connection ~ 4450 3750
Wire Wire Line
	4450 3750 5150 3750
Wire Wire Line
	3750 3850 3550 3850
Connection ~ 3550 3850
Text GLabel 3250 2350 0    50   Input ~ 0
V_SET
Wire Wire Line
	3250 2350 3400 2350
Text GLabel 3550 3650 0    50   Input ~ 0
I_SET
Wire Wire Line
	3750 3650 3550 3650
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5D779FE7
P 9950 2100
F 0 "J?" H 10030 2142 50  0000 L CNN
F 1 "Conn_01x01" H 10030 2051 50  0000 L CNN
F 2 "" H 9950 2100 50  0001 C CNN
F 3 "~" H 9950 2100 50  0001 C CNN
	1    9950 2100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D77A599
P 9600 2200
F 0 "#PWR?" H 9600 1950 50  0001 C CNN
F 1 "GND" H 9605 2027 50  0000 C CNN
F 2 "" H 9600 2200 50  0001 C CNN
F 3 "" H 9600 2200 50  0001 C CNN
	1    9600 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D7863C0
P 9600 1900
F 0 "C?" H 9715 1946 50  0000 L CNN
F 1 "1n" H 9715 1855 50  0000 L CNN
F 2 "" H 9638 1750 50  0001 C CNN
F 3 "~" H 9600 1900 50  0001 C CNN
	1    9600 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 2050 9600 2100
Wire Wire Line
	9600 2100 9750 2100
Connection ~ 9600 2100
Wire Wire Line
	9600 2100 9600 2200
$EndSCHEMATC
